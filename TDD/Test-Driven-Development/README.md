# Test Driven Development
書籍テスト駆動開発を学習するRepository

## 学習情報
### 1回目
- 言語：Python
- 対象：第一部 多国通貨

#### 学んだこと
- TDDのサイクル
    - Build Error
    - Red
        - Red状態を解決するために `インターフェース` を変更する場合は、テストを変更しても良い
            - 基本的にはRedのテストを修正する。 `Pass` しているテストは変更しない。
    - Green
        - ここまで**最短**で到達することが目標
        - **動作する**コードを作る
            - **振る舞い**を決める議論をする
    - Refactoring
        - **きれいな**コードにする
            - **最善の方法**を見つける議論をする
- 重複を取り除くことで依存性も取り除くことができる
    - 依存する箇所を限定できる
    - 重複と依存関係は `プロダクトコード` と `テストコード` の間にもある
- Pythonでメソッドが所属するクラスの名前が使えない。
    - `from __future__ import annotations` を使う必要がある。
- `感情をテストに翻訳する` TDDのテーマの1つ
    - 2章の `Dollarの副作用` は副作用の不快感を同じインスタンスに複数回掛け算をするテストで表した
    - 7章の `FrancとDollarを比較する` では気になる動作を確認することをテストで表した
- `Value Objectパターン`のメリット
    - 別名参照問題を解決する。
        - 別名参照とは別々のインスタンスA, Bに別名で同じインスタンスCを持たせること
            - インスタンスCを変更するとインスタンスA, Bの両方が変化して予期せぬ不具合になりやすい。
    - `equals()` メソッドを含む
    - `hashCode()` メソッドを含む
- 三角測量
    - 複数のテストを用意してより一般的な実装方法を導き出す方法
        - 無理に使う必要は無い。実装手段が思いつかない場合などに活用すると良い!!
- 1つの機能が正しく動くことを前提にテストを作ることも有る
    - `Green` を疑う必要は無い。
        - 間違いに気づいたら学び、反省してまた勇ましく進む
- 不要なサブクラスは削除したほうがいい。
    - 全ての概念を個別のクラスを使って表現する必要はない。
        - 一つのクラスのメンバー変数などで複数の概念を表すこともできる。
        - 設計がシンプルになる。
            - クラスが多いことを嫌う必要は無いが不要なクラスは消してもいいと気付けることも大切
- 不要なテストも削除した方がいい
    - コードの進化を阻害する可能性の有るコードは削除する。

#### わからなかったこと
- P.9 のコラムのTDDの第2のルールとは？
- p.38 のFrancクラスの `equals()` メソッドのテストが無いことに気づけなかった
- P.65 の第10章のリファクタリングの考え方を一人で実践できる気がしない。
- P.xx 全体のリファクタリングの流れを自分で実現できる気がしない。
- P.82 Imposterパターンが何かがわからない。
- P90 第13章の開発の進め方がわからない。
     - 各テストの狙いなどが整理できていない。
     - SumオブジェクトとMoneyオブジェクトが循環参照になってしまう。
        - Javaのパッケージのアクセス範囲を再現する方法が必要かも

## 書籍情報
- [テスト駆動開発](https://www.amazon.co.jp/%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95%E9%96%8B%E7%99%BA-Kent-Beck/dp/4274217884/ref=sr_1_2?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=25K57BGJDY9NC&keywords=%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95&qid=1677750275&sprefix=%E3%83%86%E3%82%B9%E3%83%88%E9%A7%86%E5%8B%95%2Caps%2C191&sr=8-2)
